import numpy as np
import pandas as pd
import bs4
from bs4 import BeautifulSoup
import requests

with open('../nasa_api.txt', 'r') as file:
    apikey = file.read()
# context manager 'with', 'r' means read

# Headers/parameters
headers = {
    "apikey": apikey
}

# API endpoint for Astronomy Picture of the Day (APOD)
url = f'https://api.nasa.gov/planetary/apod?api_key={apikey}'

# Make a GET request to fetch the APOD data
response = requests.get(url)

if response.status_code == 200:
    apod_data = response.json()
    print("Title:", apod_data['title'])
    print("Date:", apod_data['date'])
    print("Explanation:", apod_data['explanation'])
    print("URL:", apod_data['url'])
else:
    print("Failed to fetch data:", response.status_code)

url = f'https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&api_key={apikey}'

response = requests.get(url)

if response.status_code == 200:
    rover_data = response.json()
    photos = rover_data['photos']
    if photos:
        photo = photos[0]  # Fetching the first photo (index 0)
        print("Image:", photo['img_src'])
        print("Earth Date:", photo['earth_date'])
    else:
        print("No photos found for the given criteria.")
else:
    print("Failed to fetch data:", response.status_code)
